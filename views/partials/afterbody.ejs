<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<link href="/stylesheets/toasty.min.css" rel="stylesheet" />
<script src="/socket.io/socket.io.min.js"></script>

<!-- ################################################################## -->
<script src="/javascripts/main.js"></script>

<script>
    let htmlClasses = document.querySelector("body").classList;
    let themeSwitcher = document.querySelector("#theme-switch");

    if (
      (window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches) ||
      localStorage.theme === "dark"
    ) {
      htmlClasses.add("dark");
      localStorage.theme = "dark";
      document.querySelectorAll("body.dark > .svg").forEach((svgEl) => {
        svgEl.style.filter = "invert(100%)";
      });
      themeSwitcher.innerHTML = "🌙";
    } else {
      htmlClasses.remove("dark");
      localStorage.removeItem("theme");
      document.querySelectorAll("body > .svg").forEach((svgEl) => {
        svgEl.style.filter = "invert(0%)";
      });
      themeSwitcher.innerHTML = "☀️";
    }
    function switchMode(el) {
      if (localStorage.theme === "dark") {
        htmlClasses.remove("dark");
        localStorage.removeItem("theme");
        document.querySelectorAll("body > .svg").forEach((svgEl) => {
          svgEl.style.filter = "invert(0%)";
        });
        themeSwitcher.innerHTML = "☀️";
      } else {
        htmlClasses.add("dark");
        localStorage.theme = "dark";
        themeSwitcher.innerHTML = "🌙";
        document.querySelectorAll("body.dark > .svg").forEach((svgEl) => {
          svgEl.style.filter = "invert(100%)";
        });
      }
    }
    function loadTheme() {
      if (
        localStorage.theme === "dark" ||
        (!"theme" in localStorage &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        htmlClasses.add("dark");
        document.querySelectorAll("body.dark > .svg").forEach((svgEl) => {
          svgEl.style.filter = "invert(100%)";
        });
        themeSwitcher.innerHTML = "🌙";
      } else if (localStorage.theme === "dark") {
        htmlClasses.add("dark");
        document.querySelectorAll("body.dark > .svg").forEach((svgEl) => {
          svgEl.style.filter = "invert(100%)";
        });
        themeSwitcher.innerHTML = "🌙";
      }
    }
    window.onload = loadTheme();
  
</script>
<!-- <script>
  function initFingerprintJS() {
    // Initialize an agent at application startup.
    const fpPromise = FingerprintJS.load();

    // Get the visitor identifier when you need it.
    fpPromise
      .then((fp) => fp.get())
      .then((result) => {
        // This is the visitor identifier:
        const visitorId = result.visitorId;
        console.log(visitorId);
      });
  }
</script>
<script
  async
  src="//cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"
  onload="initFingerprintJS()"
></script> -->
